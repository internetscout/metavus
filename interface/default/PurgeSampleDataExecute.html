<?PHP
#
#   FILE:  PurgeSampleDataExecute.html
#
#   Part of the Metavus digital collections platform
#   Copyright 2011-2025 Edward Almasy and Internet Scout Research Group
#   http://metavus.net
#
# @scout:phpstan

namespace Metavus;

use Exception;
use ScoutLib\ApplicationFramework;
use ScoutLib\HtmlTable;

# ----- SETUP ----------------------------------------------------------------
if (!isset($H_ClassificationCount)) {
    throw new Exception("H_ClassificationCount not defined.");
}
if (!isset($H_ControlledNameCount)) {
    throw new Exception("H_ControlledNameCount not defined.");
}
if (!isset($H_ResourceCount)) {
    throw new Exception("H_ResourceCount not defined.");
}

$AF = ApplicationFramework::getInstance();

$DataTable = new HtmlTable();
$DataTable->setTableClass("table table-striped");
$DataTable->addRowsWithHeaders([
    ["Resources Deleted", $H_ResourceCount],
    ["Classifications Deleted", $H_ClassificationCount],
    ["Controlled Names Deleted", $H_ControlledNameCount]
]);

# ----- DISPLAY --------------------------------------------------------------
$AF->setPageTitle("Purge Sample Data");
?>

<h1>Sample Data Purge Completed Successfully</h1>

<?= $DataTable->getHtml(); ?>
