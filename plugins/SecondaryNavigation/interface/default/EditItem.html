<?PHP
#
#   FILE:  AddItem.html (SecondaryNavigation plugin)
#
#   Part of the Metavus digital collections platform
#   Copyright 2020-2025 Edward Almasy and Internet Scout Research Group
#   http://metavus.net
#

use Metavus\HtmlButton;
use ScoutLib\ApplicationFramework;

# ----- SETUP ----------------------------------------------------------------
$AF = ApplicationFramework::getInstance();

$SaveButton = new HtmlButton("Save Changes");
$SaveButton->setIcon("Disk.svg");

$AddLinkButton = new HtmlButton("Add Link");
$AddLinkButton->setIcon("Plus.svg");

$CancelButton = new HtmlButton("Cancel");
$CancelButton->setIcon("Cross.svg");
$CancelButton->addSemanticClass("btn-danger");

# ----- DISPLAY --------------------------------------------------------------
?>

<?PHP
if ($H_EditPage) {
    $AF->setPageTitle("Edit Item");
    ?>
    <h2>Edit Nav Item</h2>
    <p>
        Edit a link in your secondary navigation menu.
        Links' addresses that were generated by the system cannot be edited.
    </p>
    <?PHP
} else {
    $AF->setPageTitle("Add Item");
    ?>
    <h2>Add Nav Item</h2>
    <p>Add a link to your secondary navigation menu to be displayed with the given label.</p>
    <?PHP
}
$H_FormUI->displayErrorBlock();
?>

<form method="post" action="index.php?P=P_SecondaryNavigation_EditItem">
    <?PHP $H_FormUI->displayFormTable(); ?>
    <?PHP if ($H_EditPage) { ?>
        <?= $SaveButton->getHtml(); ?>
    <?PHP } else { ?>
        <?= $AddLinkButton->getHtml(); ?>
    <?PHP } ?>
    <?= $CancelButton->getHtml(); ?>
</form>
